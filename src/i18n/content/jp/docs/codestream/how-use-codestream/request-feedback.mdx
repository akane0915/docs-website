---
title: CodeStreamへのフィードバックをリクエスト
metaDescription: 'How to review and request feedback from your teammates, as well as how to make direct code changes.'
translationType: machine
---

New Relic CodeStream のフィードバックリクエストは、従来のエンドオブサイクルのコードレビューに使用するのに十分な強力な機能を備えていますが、同時に非常に簡単で柔軟性に富んでいるため、開発プロセス全体を通して、進行中の作業に対する迅速なフィードバックを得るために使用することができます。さらに、コミットされていない変更に対してもフィードバックリクエストを使用することができます。

従来のコードレビューは、開発サイクルの最後に行われ、変更のマージを行う際に行われていました。サイクルの終わりに行われるコードレビューは、チームメイトの負担が大きくなるだけでなく、問題の発見が遅すぎて、スケジュールを大幅に短縮するか、技術的負債を抱えるかのどちらかを選択しなければならなくなる危険性があります。

CodeStreamは、プロジェクトの初期段階で、いくつかの関数をスタブアウトしただけの状態であっても、進行中の作業の途中であっても、完成したプロジェクトの最終的なレビューの準備をしている状態であっても、開発サイクルのどの時点でもフィードバックを可能にします。CodeStreamは、プッシュされたコミット、ローカルのコミット、ステージングされた変更、保存された変更など、現在のステータスを共有するための複雑な作業を行います。チームメイトは自分のIDEからフィードバックを行うことができ、アプリケーションを切り替える必要はなく、ブランチを切り替えたり変更をプルしたりする必要もありません。

開発サイクルの最後に行われる正式なコードレビュー/プルリクエストの時点では、問題が提起され、議論され、解決されているので、痛みははるかに少なく、形式的なものになっています。

IDEでフィードバックを要求するためのCodeStreamの使い方については、YouTubeのショートビデオ（4分25秒）をご覧ください。

<Video
  id="lekPPyeG69I"
  type="youtube"
/>

## フィードバックのお願い [#request-feedback]

現在の作業状況に関わらず、いつでもフィードバックをリクエストするには、CodeStream ペインの上部にある **+ Create** ボタン、または Feedback Requests セクションのヘッダーにある **+ Request Feedback** ボタンをクリックします。また、キーボードのショートカット(`ctlr+shift+/` `r` または `ctrl+/` `r` (Macの場合) )を使うこともできます。

![フィードバックの依頼方法を示す画面](/images/RequestFeedback.png "フィードバックのお願い")

ワンクリックで、最後のコミットメッセージ、ブランチ名、または [チケットを選択して作業を開始した場合は](/docs/codestream/how-use-codestream/start-work/) 、チケットタイトルに基づいてフィードバックリクエストに名前を付けることができます。CodeStream は、あなたがエディタで現在選択しているファイルのリポジトリ/ブランチの変更に対するフィードバックを要求していると仮定します。IDE で複数のリポジトリを開いている場合は、フィードバックリクエストフォームの一番上にあるリポジトリのドロップダウンから変更することができます。

組織の設定により、CodeStreamは特定のレビュアーを提案します。変更されるコードのコミット履歴に基づいて、CodeStreamチームに所属していない人が提案されることもあります。その場合は、その人にメールで通知されます。レビューアの名前にカーソルを合わせると、詳細を確認したり、レビューアを削除することができます。複数のレビュアーが割り当てられている場合、そのうちの誰かがレビューを承認するか、それぞれが個別に承認しなければならないかを決定するオプションがあります。

![レビューアの割り当て方法を示す画面](/images/ReviewAssignment.png "レビュー課題")

**Changed Files** セクションには、追加、削除、変更されたすべてのファイルがリストアップされています。フィードバック・リクエストを送信する前に変更内容を確認したい場合は、ファイルをクリックすると差分が表示されます。

![レビューで変更されたファイルのスクリーンショット](/images/ChangedFiles1.png "変更されたファイル")

チェックインされたバイナリファイルなど、レビューに適していないファイルがある場合、任意のファイルにカーソルを合わせて **x** をクリックすると、そのファイルをフィードバック・リクエストから除外することができます。そのファイルは、フォームの下のリストに移動します。新しいファイルは、デフォルトではフィードバック・リクエストから除外されていますが、リストのエントリーにカーソルを合わせて、 **+** をクリックすると、追加することができます。

![レビューから除外されたファイルのスクリーンショット](/images/ExcludeFromReview.png "レビュー対象外とする")

除外したファイルにカーソルを合わせてゴミ箱をクリックすると、そのファイルを今後のすべてのフィードバック要求から永久に除外することができます。ファイルを永久に除外すると、リポジトリに `.codestreamignore` というファイルが作成されます。チームメイトもこれらのファイル（例えば、 `package-lock.json` やその他のシステムで生成されたファイル）を除外したいと考えている場合は、そのファイルをコミットしてプッシュすることで、チームメイトもそのファイルを利用できるようになります。

選択されたファイルの変更点は4つのカテゴリーに分類され、フィードバックリクエストに含めたい内容を正確に選択することができます。これには、プッシュされていない、あるいはコミットされていない変更も含まれます。

4つのカテゴリーがあります。

* 変更の保存
* 段階的な変化
* ローカルコミット
* 押し出されたコミット

コミットは、 **Local Commits** と **Pushed Commits** のセクションで降順に表示されます。あるコミットのチェックを外すと、そのコミットに先行するすべてのコミットのチェックが自動的に外れます。言い換えると、フィードバックリクエストに含まれるコミットは連続していなければなりません。デフォルトでは、自分のコミットだけがチェックされますが、どのコミットもレビューに含めることができます。

<Callout variant="tip">
  git設定のメールアドレスがCodeStreamのメールアドレスと一致していることを確認してください。または、 [blame map](/docs/codestream/how-use-codestream/my-organization/#blame-map) を設定して、gitのメールアドレスとCodeStreamのメールアドレスを対応させます。
</Callout>

オプションとして、フィードバックリクエストをSlackまたはMicrosoft Teamsで共有することができます。

フィードバックリクエストを送信すると、アクティビティフィードを通じてチームメイトに通知され、レビューアとして割り当てられた人には@マークが表示され、メールでの通知も受け取れるようになっています。

## フィードバック [#provide-feedback]

CodeStreamのフィードバックリクエストの最大の特徴は、チームメイトに自分のコードを見てもらうことで、彼らに余分な負担をかけないことです。ブランチを切り替えたり、変更を取り込んだりするために自分の仕事を脇に置いておく必要はありませんし、IDEを離れる必要もありません。適切なリポジトリを持っていれば、フィードバックリクエストを開いて、あなたの変更点のレビューを始めることができます。

![レビュー中の全体像を示すスクリーンショット](/images/FRDiff.png "レビュービュー")

**Changed Files** セクションの任意のファイルをクリックして、変更点を確認します。変更点はエディタ上に diff で表示されます。IDE のネイティブナビゲーションや、IDE 上部の上下矢印をクリックすることで、ファイルの変更点を順に確認することができます。JetBrains IDE の場合、CodeStream はサイドバイサイドの diff ビューアのみをサポートします。

![変更点を確認するためのスクリーンショット](/images/NavigateChanges.png "変更点の確認")

通常、差分はフィードバックリクエストに関連したブランチ (機能/トピックブランチなど) の変更点を、機能ブランチが作成された時点でのベースブランチに対して表します。CodeStreamの差分では、開発者がフィードバックリクエストにすべての変更を含めていない可能性があるため、必ずしもそうではありません。その結果、差分を取るファイルのバージョンには、ベースブランチにない変更点が含まれていることがあります。これは、継続性を持たせるために重要なことです。

### コメント・変更依頼 [#comments]

変更点に関する一般的なコメントがある場合は、フィードバックリクエストのスレッドに返信を追加してください。

![レビューへの返信](/images/FRReply.png)

実際の変更点についてコメントしたい場合は、diffの右側からコードを選択し、選択したコードの横にあるCodeStreamペインに表示されるコメントボタンをクリックします。また、コードを選択した後にキーボードショートカット(`ctlr+shift+/` `c` または `ctrl+/` `c` (Mac) )を使用することもできます。

![レビューにコメントを残す方法を示すスクリーンショット](/images/QS-FeedbackRequest.png "コメントを残す")

ファイル全体の状況がわかるので、変更されたコードの行だけにコメントをつけるだけではありません。例えば、ファイルの他の部分にも作業が必要であったり、単に参照したい部分があるかもしれません。

一般的なコメントであれ、コードに対するコメントであれ、変更要求としてマークしておけば、変更を承認する前に必要であることを開発者に知らせることができます。

フィードバック中に、チェンジセットに含まれないファイルにコメントすることもでき、そのファイルはレビューへの返信として追加されます。これは、改善が必要なコードベースの別の場所をチームメイトに指摘するのに役立ちます。

フィードバックリクエストに関連するすべての変更要求は、ディスカッションスレッドの一部であるだけでなく、上部のセクションにまとめられます。作業が完了したら、ここに完了マークが付けられます。

![要求された変更点を示すスクリーンショット](/images/ReviewChgReqSection1.png "変更要求の確認")

上部にある緑と赤のボタンで、変更を承認するか、追加の変更を要求するかを選択します。未解決の変更要求がある場合は、承認ボタンの代わりに青いボタンが表示され、番号が表示されます。変更を承認していただいても構いませんが、未解決の作業があることを確認していただきたいと思います。

!\[A screenshot showing outstanding changes](/images/ApproveWithChgReqs3.png"Outstanding changes)

複数のレビュアーがいて、それぞれからの承認が必要な場合、CodeStreamでは未承認の承認がある場合は非常にわかりやすくなっています。右上の青いボタンは、未承認の数を示しています。レビュアーのヘッドショットに表示されている緑色のサムズアップは、あなたの変更がすでに承認されたことを示しています。

![未承認の承認を示すスクリーンショット](/images/ReviewIncomplete.png "未解決の承認")

## コード変更の追加 [#add-changes]

典型的なワークフローは、レビューアがコメントや変更点を提案し、開発者がそのフィードバックに応えてコードをさらに変更するというものです。このプロセスを継続するには、青い **Amend** ボタンをクリックして、変更を追加します。

![レビューの修正ボタンのスクリーンショット](/images/FRAmend1.png "レビューの修正")

最初にフィードバックリクエストを送信したときと同様に、保存された変更とステージングされた変更、ローカルコミットとプッシュされたコミットから選択できます。未解決の変更要求もリストアップされるので、更新によって対処されたものに印をつけることができます。

![修正レビューフォームのスクリーンショット](/images/ReviewAmendForm.png "レビューフォームの修正")

デフォルトでは、レビューアがフィードバックリクエストに戻ると、各ファイルの diff を見ながらチェンジセット全体 (すべてのアップデートでの変更点など) を見ることになります。また、個々のアップデートの差分を見ることもできます。

![レビューのチェックポイントを示すスクリーンショット](/images/ReviewCheckpoints.png "チェックポイントの見直し")

フィードバックレビューのプロセスは、変更の最終的な承認を得るために必要なアップデートの数だけ続けることができます。フィードバックリクエストが承認されると、CodeStreamの中から [プルリクエスト](/docs/codestream/how-use-codestream/pull-requests) を作成して、コードをマージすることができます。

<Callout variant="tip">
  プルリクエストが作成された後は、フィードバックリクエストを修正したり、再開することはできません。
</Callout>