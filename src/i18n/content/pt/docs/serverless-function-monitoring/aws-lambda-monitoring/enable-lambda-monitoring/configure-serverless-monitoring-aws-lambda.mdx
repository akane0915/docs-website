---
title: Configuração adicional
metaDescription: 'After enabling New Relic''s AWS Lambda monitoring, you can set up alerts and custom events.'
freshnessValidatedDate: never
translationType: machine
---

Depois de [habilitar o monitoramento Serverless para AWS Lambda](/docs/serverless-function-monitoring/aws-lambda-monitoring/enable-lambda-monitoring/enable-aws-lambda-monitoring), você pode adicionar configurações adicionais para ajustar seus dados.

## Habilitar rastreamento infinito [#infinite-tracing]

Distributed tracing será incluído por padrão se você configurar suas funções usando camadas Lambda.

Se sua função do Lambda se comunicar com serviços que usam nosso tail-based distributed tracing chamado [Infinite Tracing](/docs/distributed-tracing/infinite-tracing/introduction-infinite-tracing), você deverá habilitar esse recurso para sua função do Lambda. Isso garante que seus intervalos do Lambda sejam incluídos com o restante dos intervalos rastreados pelo Infinite Tracing.

Para configurar isso para sua função do Lambda, consulte as [etapas do Infinite Tracing](/docs/distributed-tracing/infinite-tracing/set-trace-observer) para criar um observador de rastreamento e para selecionar qual função do Lambda (fontes de dados) deve relatar spans.

## Configurar alerta [#alerts]

Nosso <InlinePopover type="alerts"/>permite receber notificações sobre qualquer coisa que você possa monitor com o New Relic, incluindo métricas de APM, transação principal, consulta de NRQL e muito mais. Consulte [nossa documentação de alerta](/docs/alerts-applied-intelligence/new-relic-alerts/learn-alerts/introduction-alerts/).

## Adicionar evento personalizado [#custom-events]

Além dos dados que fornecemos por padrão, você também pode configurar seu próprio [evento](/docs/using-new-relic/welcome-new-relic/get-started/glossary#event) ou [atributo](/docs/using-new-relic/welcome-new-relic/get-started/glossary#attribute).

Para obter detalhes sobre essas configurações específicas de idioma, consulte [Configurar atributo personalizado e evento no AWS Lambda](https://discuss.newrelic.com/t/configuring-custom-attributes-and-events-in-aws-lambda/96043).

## Variáveis ambientais [#environment]

É importante configurar sua função do Lambda com as variáveis de ambiente New Relic que atendam às suas necessidades de monitoramento. Escolha seu tempo de execução para ver as variáveis de ambiente disponíveis e nossas recomendações para configurações padrão.

<CollapserGroup>
  <Collapser
    id="go"
    title="Go"
  >
    <table>
      <thead>
        <tr>
          <th>
            Variável de ambiente
          </th>

          <th>
            Valor padrão
          </th>

          <th>
            Opções
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `NEW_RELIC_ACCOUNT_ID`
          </td>

          <td/>

          <td/>

          <td>
            ID da sua conta New Relic
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_TRUSTED_ACCOUNT_KEY`
          </td>

          <td/>

          <td/>

          <td>
            Seu ID de conta New Relic ou ID de pai, se existir
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="java"
    title="Java OpenTracing"
  >
    <table>
      <thead>
        <tr>
          <th>
            Variável de ambiente
          </th>

          <th>
            Valor padrão
          </th>

          <th>
            Opções
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `NEW_RELIC_ACCOUNT_ID`
          </td>

          <td/>

          <td/>

          <td>
            ID da sua conta New Relic
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_TRUSTED_ACCOUNT_KEY`
          </td>

          <td/>

          <td/>

          <td>
            Seu ID de conta New Relic ou ID de pai, se existir
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Habilitar ou desabilitar distributed tracing
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PRIMARY_APPLICATION_ID`
          </td>

          <td/>

          <td/>

          <td>
            ID da sua conta New Relic
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_DEBUG`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Nível de agente de log
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="node-js"
    title="Node.js"
  >
    <table>
      <thead>
        <tr>
          <th>
            Variável de ambiente
          </th>

          <th>
            Valor padrão
          </th>

          <th>
            Opções
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `NEW_RELIC_ACCOUNT_ID`
          </td>

          <td/>

          <td/>

          <td>
            ID da sua conta New Relic
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_TRUSTED_ACCOUNT_KEY`
          </td>

          <td/>

          <td/>

          <td>
            Seu ID de conta New Relic ou ID de pai, se existir
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Habilitar ou desabilitar distributed tracing (Java excluído)
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_NO_CONFIG_FILE`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            O agente Node.js usa variáveis de ambiente no Lambda, portanto, isso deve ser definido como `true`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_APP_NAME`
          </td>

          <td/>

          <td/>

          <td>
            Deve ser definido, mas não é usado na interface do New Relic. Em vez disso, os nomes das entidades vêm da integração AWS .
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG_ENABLED`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`,`false`
          </td>

          <td>
            Gera o log do agente para o CloudWatch
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG_LEVEL`
          </td>

          <td>
            `info`
          </td>

          <td>
            `fatal`, `error`, `warn`, `info`, `debug`, `trace`
          </td>

          <td>
            Nível de agente de log
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG`
          </td>

          <td>
            `stdout`
          </td>

          <td>
            `stdout`
          </td>

          <td>
            O caminho log do agente deve ser stdout para o agente Node.js no modo sem servidor
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_USE_ESM`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Funções ESM que usam async/await e não retorno de chamada
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_NATIVE_METRICS_ENABLED`
          </td>

          <td>
            `true`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Deve ser definido como falso para reduzir a duração da partida a frio. Quando definido como `false` não coleta métricas VM
          </td>
        </tr>
      </tbody>
    </table>

    Você pode encontrar mais variáveis de ambiente em nossa [documentação de configuração do Node.js.](/docs/apm/agents/nodejs-agent/installation-configuration/nodejs-agent-configuration/)
  </Collapser>

  <Collapser
    id="python"
    title="Python"
  >
    <table>
      <thead>
        <tr>
          <th>
            Variável de ambiente
          </th>

          <th>
            Valor padrão
          </th>

          <th>
            Opções
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `NEW_RELIC_ACCOUNT_ID`
          </td>

          <td/>

          <td/>

          <td>
            ID da sua conta New Relic
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_TRUSTED_ACCOUNT_KEY`
          </td>

          <td/>

          <td/>

          <td>
            Seu ID de conta New Relic ou ID de pai, se existir
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Habilitar ou desabilitar distributed tracing (Java excluído)
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_NO_CONFIG_FILE`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            O agente usa variáveis de ambiente no Lambda, portanto, isso deve ser definido como verdadeiro
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_APP_NAME`
          </td>

          <td/>

          <td/>

          <td>
            Deve ser definido, mas não é usado na interface do New Relic. Em vez disso, os nomes das entidades vêm da integração AWS .
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG`
          </td>

          <td>
            `stderr`
          </td>

          <td>
            `stderr`
          </td>

          <td>
            O caminho log do agente deve ser `stderr `para o agente Python no modo sem servidor
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG_LEVEL`
          </td>

          <td>
            `info`
          </td>

          <td>
            `critical`, `error`, `warning`, `info`, `debug`
          </td>

          <td>
            Nível de agente de log
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_SERVERLESS_MODE_ENABLED`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Deve ser definido como `true` para que o agente seja executado no modo sem servidor
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_PACKAGE_REPORTING_ENABLED`
          </td>

          <td>
            `true`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Os relatórios do pacote do agente Python devem ser definidos como `false` para melhorar os tempos de inicialização a frio
          </td>
        </tr>
      </tbody>
    </table>

    Você pode encontrar mais variáveis de ambiente em nossa [documentação de configuração do Python](/docs/apm/agents/python-agent/configuration/python-agent-configuration).
  </Collapser>

  <Collapser
    id="ruby"
    title="Ruby"
  >
    <table>
      <thead>
        <tr>
          <th>
            Variável de ambiente
          </th>

          <th>
            Valor padrão
          </th>

          <th>
            Opções
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `NEW_RELIC_ACCOUNT_ID`
          </td>

          <td/>

          <td/>

          <td>
            ID da sua conta New Relic
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_TRUSTED_ACCOUNT_KEY`
          </td>

          <td/>

          <td/>

          <td>
            Seu ID de conta New Relic ou ID de pai, se existir
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_DISTRIBUTED_TRACING_ENABLED`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Habilitar ou desabilitar distributed tracing
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LAMBDA_HANDLER`
          </td>

          <td/>

          <td/>

          <td>
            Defina o valor original do manipulador da sua função
          </td>
        </tr>
      </tbody>
    </table>
  </Collapser>

  <Collapser
    id="dotnet"
    title=".NET"
  >
    <table>
      <thead>
        <tr>
          <th>
            Variável de ambiente
          </th>

          <th>
            Valor padrão
          </th>

          <th>
            Opções
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `CORECLR_ENABLE_PROFILING`
          </td>

          <td/>

          <td>
            `0`, `1`
          </td>

          <td>
            Obrigatório: deve ser definido como `1` para que o agente .NET possa instrumentalizar seu aplicativo.
          </td>
        </tr>

        <tr>
          <td>
            `CORECLR_PROFILER`
          </td>

          <td/>

          <td>
            `{36032161-FFC0-4B61-B559-F6C5D41BAE5A}`
          </td>

          <td>
            Obrigatório: deve ser definido como `{36032161-FFC0-4B61-B559-F6C5D41BAE5A}` para que o agente .NET possa instrumentalizar seu aplicativo.
          </td>
        </tr>

        <tr>
          <td>
            `CORECLR_NEWRELIC_HOME`
          </td>

          <td/>

          <td>
            `/opt/lib/newrelic-dotnet-agent`
          </td>

          <td>
            Obrigatório: deve ser definido como `/opt/lib/newrelic-dotnet-agent` para que o agente .NET possa instrumentalizar seu aplicativo.
          </td>
        </tr>

        <tr>
          <td>
            `CORECLR_PROFILER_PATH`
          </td>

          <td/>

          <td>
            `/opt/lib/newrelic-dotnet-agent/libNewRelicProfiler.so`
          </td>

          <td>
            Obrigatório: deve ser definido como `/opt/lib/newrelic-dotnet-agent/libNewRelicProfiler.so` para que o agente .NET possa instrumentalizar seu aplicativo.
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_APP_NAME`
          </td>

          <td/>

          <td/>

          <td>
            Deve ser definido, mas não é usado na interface do New Relic. Em vez disso, os nomes das entidades vêm da integração AWS .
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG_LEVEL`
          </td>

          <td>
            `info`
          </td>

          <td>
            `info`, `debug`, `finest`
          </td>

          <td>
            Nível de agente de log
          </td>
        </tr>

        <tr>
          <td>
            `NEWRELIC_LOG_CONSOLE`
          </td>

          <td>
            `0`
          </td>

          <td>
            `1`, `0`
          </td>

          <td>
            Enviar mensagem do log para o console
          </td>
        </tr>
      </tbody>
    </table>

    Você pode encontrar mais variáveis de ambiente em nossa [documentação de configuração do .NET](/docs/apm/agents/net-agent/configuration/net-agent-configuration/).
  </Collapser>

  <Collapser
    id="extension"
    title="Extensão Lambda"
  >
    <table>
      <thead>
        <tr>
          <th>
            Variável de ambiente
          </th>

          <th>
            Valor padrão
          </th>

          <th>
            Opções
          </th>

          <th>
            Descrição
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
            `NEW_RELIC_LAMBDA_EXTENSION_ENABLED`
          </td>

          <td>
            `true`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Habilite ou desabilite a extensão
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LICENSE_KEY`
          </td>

          <td/>

          <td/>

          <td>
            Sua chave de ingestão da New Relic. Isso substitui o Secrets Manager
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LICENSE_KEY_SECRET`
          </td>

          <td>
            `NEW_RELIC_LICENSE_KEY`
          </td>

          <td/>

          <td>
            Nome secreto personalizado no AWS Secrets Manager
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LAMBDA_HANDLER`
          </td>

          <td/>

          <td/>

          <td>
            Se você não usa [o método de empacotamento manual](https://github.com/newrelic/newrelic-lambda-layers?tab=readme-ov-file#note-on-performance-for-es-module-functions) do New Relic, este é o manipulador da sua função.
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_DATA_COLLECTION_TIMEOUT`
          </td>

          <td>
            10s
          </td>

          <td/>

          <td>
            Reduza a duração do tempo limite quando por `Telemetry client error`
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_EXTENSION_LOGS_ENABLED`
          </td>

          <td>
            `true`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Ativar ou desativar `NR_EXT` linhas log
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_EXTENSION_LOG_LEVEL`
          </td>

          <td>
            `info`
          </td>

          <td>
            `info`, `debug`
          </td>

          <td>
            nível de log para linhas de log NR_EXT
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_EXTENSION_SEND_FUNCTION_LOGS`
          </td>

          <td>
            `false`
          </td>

          <td>
            `true`, `false`
          </td>

          <td>
            Enviar log de funções
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_LOG_ENDPOINT`
          </td>

          <td/>

          <td/>

          <td>
            Defina como [https://log-api.newrelic.com/log/v](https://log-api.newrelic.com/log/v)
          </td>
        </tr>

        <tr>
          <td>
            `NEW_RELIC_TELEMETRY_ENDPOINT`
          </td>

          <td>
            Definir como [endpoint dos EUA](https://cloud-collector.newrelic.com/aws/lambda/v1)
          </td>

          <td/>

          <td>
            [End point opcional da UE](https://github.com/newrelic/newrelic-lambda-extension/blob/3c4218dd7727d0b0467f24f0902b616b7f4e46b7/telemetry/client.go#L24-L27)
          </td>
        </tr>
      </tbody>
    </table>

    Veja mais variáveis de ambiente para a extensão New Relic em nossa [documentação](https://github.com/newrelic/newrelic-lambda-extension/blob/cf86fb53f0bd816e1d09d07f7b5c5ab4841010a0/config/config.go#L41-L55).
  </Collapser>
</CollapserGroup>